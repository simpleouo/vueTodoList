import{r as l,c as i,o as u,a,w as d,b as p,d as _,v as m,e as x,f as U,g as V,u as h,h as A}from"./index-DStgxM8_.js";const E={id:"signUpPage",class:"bg-yellow"},B={class:"conatiner signUpPage vhContainer"},N={class:"formControls",action:"index.html"},q={key:0},L={key:1},R={key:2},S={key:3},I={__name:"SignUpView",setup(T){const y=h(),n=l(""),r=l(""),o=l(""),v=l(""),f=l(!1),c=l(!1),g=l(!1),w=l(!1),C=async()=>{try{f.value=!1,c.value=!1,g.value=!1,w.value=!1;let s=!1;if(n.value||(f.value=!0,s=!0),r.value||(c.value=!0,s=!0),o.value||(g.value=!0,s=!0),o.value!==v.value){w.value=!0;return}if(s)return;const e={email:n.value,password:o.value,nickname:r.value},b=await V(e),{status:t,uid:k}=b.data;t&&(document.cookie="uid="+k,y.push("/"))}catch(s){let e;Array.isArray(s.response.data.message)?e=s.response.data.message.join(" / "):e=s.response.data.message,alert(e)}};return(s,e)=>{const b=U("RouterLink");return u(),i("div",E,[a("div",B,[e[10]||(e[10]=a("div",{class:"side"},[a("a",{href:"#"},[a("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),a("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),a("div",null,[a("form",N,[e[5]||(e[5]=a("h2",{class:"formControls_txt"},"註冊帳號",-1)),e[6]||(e[6]=a("label",{class:"formControls_label",for:"email"},"Email",-1)),d(a("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t)},null,512),[[m,n.value]]),f.value&&!n.value?(u(),i("span",q,"此欄位不可留空")):p("",!0),e[7]||(e[7]=a("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),d(a("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t)},null,512),[[m,r.value]]),c.value&&!r.value?(u(),i("span",L,"此欄位不可留空")):p("",!0),e[8]||(e[8]=a("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),d(a("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>o.value=t)},null,512),[[m,o.value]]),g.value&&!o.value?(u(),i("span",R,"此欄位不可留空")):p("",!0),e[9]||(e[9]=a("label",{class:"formControls_label",for:"pwdAgain"},"再次輸入密碼",-1)),d(a("input",{class:"formControls_input",type:"password",name:"pwdAgain",id:"pwdAgain",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":e[3]||(e[3]=t=>v.value=t)},null,512),[[m,v.value]]),w.value?(u(),i("span",S,"密碼不相符")):p("",!0),a("input",{class:"formControls_btnSubmit",type:"button",onClick:C,value:"註冊帳號"}),_(b,{class:"formControls_btnLink",to:"/"},{default:x(()=>[...e[4]||(e[4]=[A("登入",-1)])]),_:1})])])])])}}};export{I as default};
